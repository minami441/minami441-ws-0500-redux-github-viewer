{"ast":null,"code":"import { createStore } from \"redux\";\nimport user from \"./User.js\";\n\nfunction getdate() {\n  const date = new Date();\n  const YYYY = date.getFullYear();\n  var MM = date.getMonth() + 1;\n  var DD = date.getDate();\n\n  if (MM < 10) {\n    MM = \"0\" + MM;\n  }\n\n  if (DD < 10) {\n    DD = \"0\" + DD;\n  }\n\n  return MM + \"-\" + DD + \"-\" + YYYY;\n}\n\nlet initialData = {\n  1: {\n    id: 1,\n    title: \"A bug in Top Page\",\n    status: 0,\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\",\n    ctuser: \"\",\n    ctdate: getdate(),\n    update: getdate()\n  },\n  2: {\n    id: 2,\n    title: \"A problem of performance in Top Page\",\n    status: 0,\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\",\n    ctuser: \"\",\n    ctdate: getdate(),\n    update: getdate()\n  },\n  3: {\n    id: 3,\n    title: \"fix layout\",\n    status: 0,\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\",\n    ctuser: \"\",\n    ctdate: getdate(),\n    update: getdate()\n  }\n};\ninitialData = {\n  index: Object.values(initialData).length,\n  data: initialData\n};\n\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialData;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  let newState = { ...state\n  };\n  const index = initialData.index + 1;\n\n  switch (action.type) {\n    case \"add_issue\":\n      const {\n        title,\n        description\n      } = action.payload || {};\n      initialData.data[index] = {\n        id: index,\n        title: title,\n        description: description,\n        status: 0,\n        ctuser: user.name,\n        ctdate: getdate(),\n        update: getdate()\n      };\n      initialData.index++;\n      console.log(initialData);\n      return initialData;\n\n    case \"filter_issue\":\n      const greptxt = action.payload;\n      newState.data = Object.values(initialData.data).filter(function (value) {\n        return value.title.includes(greptxt);\n      });\n      return newState;\n\n    case \"edit_issue\":\n      const {\n        id,\n        textedit,\n        descriptionedit,\n        statusedit\n      } = action.payload;\n      initialData.data[id].title = textedit;\n      initialData.data[id].description = descriptionedit;\n      initialData.data[id].status = statusedit;\n      return newState;\n\n    case \"delete_issue\":\n      const delete_id = action.payload;\n      /*\n      initialData.data = initialData.data.filter(function (value) {\n        return delete_id.indexOf(String(value.id)) === -1;\n      });\n      */\n\n      Object.keys(initialData.data).forEach(function (key) {\n        console.log(\"キー : \" + key + \", 値 : \" + obj[key]);\n      }); //console.log(initialData.data);\n\n      return initialData;\n\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(reducer);\nexport default store;","map":{"version":3,"sources":["/Users/minami/Desktop/minami441-ws-0500-redux-github-viewer/src/components/Store.js"],"names":["createStore","user","getdate","date","Date","YYYY","getFullYear","MM","getMonth","DD","getDate","initialData","id","title","status","description","ctuser","ctdate","update","index","Object","values","length","data","reducer","state","action","newState","type","payload","name","console","log","greptxt","filter","value","includes","textedit","descriptionedit","statusedit","delete_id","keys","forEach","key","obj","store"],"mappings":"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","sourcesContent":["import { createStore } from \"redux\";\nimport user from \"./User.js\";\n\nfunction getdate() {\n  const date = new Date();\n  const YYYY = date.getFullYear();\n  var MM = date.getMonth() + 1;\n  var DD = date.getDate();\n\n  if (MM < 10) {\n    MM = \"0\" + MM;\n  }\n  if (DD < 10) {\n    DD = \"0\" + DD;\n  }\n\n  return MM + \"-\" + DD + \"-\" + YYYY;\n}\n\nlet initialData = {\n  1: {\n    id: 1,\n    title: \"A bug in Top Page\",\n    status: 0,\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\",\n    ctuser: \"\",\n    ctdate: getdate(),\n    update: getdate(),\n  },\n  2: {\n    id: 2,\n    title: \"A problem of performance in Top Page\",\n    status: 0,\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\",\n    ctuser: \"\",\n    ctdate: getdate(),\n    update: getdate(),\n  },\n  3: {\n    id: 3,\n    title: \"fix layout\",\n    status: 0,\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\",\n    ctuser: \"\",\n    ctdate: getdate(),\n    update: getdate(),\n  },\n};\n\ninitialData = {\n  index: Object.values(initialData).length,\n  data: initialData,\n};\n\nconst reducer = (state = initialData, action) => {\n  let newState = { ...state };\n  const index = initialData.index + 1;\n  switch (action.type) {\n    case \"add_issue\":\n      const { title, description } = action.payload || {};\n      initialData.data[index] = {\n        id: index,\n        title: title,\n        description: description,\n        status: 0,\n        ctuser: user.name,\n        ctdate: getdate(),\n        update: getdate(),\n      };\n      initialData.index++;\n      console.log(initialData);\n      return initialData;\n    case \"filter_issue\":\n      const greptxt = action.payload;\n      newState.data = Object.values(initialData.data).filter(function (value) {\n        return value.title.includes(greptxt);\n      });\n      return newState;\n    case \"edit_issue\":\n      const { id, textedit, descriptionedit, statusedit } = action.payload;\n      initialData.data[id].title = textedit;\n      initialData.data[id].description = descriptionedit;\n      initialData.data[id].status = statusedit;\n      return newState;\n    case \"delete_issue\":\n      const delete_id = action.payload;\n      /*\n      initialData.data = initialData.data.filter(function (value) {\n        return delete_id.indexOf(String(value.id)) === -1;\n      });\n*/\n      Object.keys(initialData.data).forEach(function (key) {\n        console.log(\"キー : \" + key + \", 値 : \" + obj[key]);\n      });\n      //console.log(initialData.data);\n\n      return initialData;\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(reducer);\n\nexport default store;\n"]},"metadata":{},"sourceType":"module"}