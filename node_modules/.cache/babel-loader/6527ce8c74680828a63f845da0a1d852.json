{"ast":null,"code":"import _toConsumableArray from\"/Users/minami/Desktop/minami441-ws-0500-redux-github-viewer/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/minami/Desktop/minami441-ws-0500-redux-github-viewer/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/minami/Desktop/minami441-ws-0500-redux-github-viewer/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9;import styled,{createGlobalStyle}from\"styled-components\";import{connect}from\"react-redux\";import React from\"react\";import Modal from\"react-modal\";import Buttons from\"../atoms/Button\";import StatusBlock from\"../molecules/StatusBlock\";import Inheaders from\"../organisms/Inheader\";import Issuetr from\"../organisms/Issuetr\";import Labeltext from\"../atoms/LabelText\";import TextBlock from\"../molecules/InputBlock\";import TextareaBlock from\"../molecules/TextareaBlock\";import Alert from\"../molecules/AlertBlock\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Section=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 16px;\\n\"])));var Container=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  padding: 16px;\\n  margin-top: 16px;\\n\"])));var Action=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\"])));var Lists=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  overflow: scroll;\\n\"])));var Issuetable=styled.table(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  border: 1px solid rgb(225, 228, 232);\\n  border-radius: 6px;\\n\\n  th:first-child,\\n  td:first-child {\\n    min-width: auto;\\n  }\\n\\n  th,\\n  td {\\n    padding: 8px;\\n    text-align: left;\\n    min-width: 10rem;\\n    border-bottom: 1px solid rgb(225, 228, 232);\\n  }\\n\"])));var Modallabel=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  max-width: 598px;\\n  margin: auto;\\n  textarea {\\n    min-height: 150px;\\n  }\\n  a {\\n    width: auto;\\n  }\\n\"])));var Modalcontents=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  padding: 32px 0px 16px;\\n\"])));var Modalbuttons=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  display: flex;\\n  -webkit-box-align: center;\\n  align-items: center;\\n  -webkit-box-pack: end;\\n  justify-content: flex-end;\\n  padding: 8px;\\n\"])));var GlobalStyle=createGlobalStyle(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  @media (max-width: 576px) {\\n    .ReactModal__Content {\\n      width: 100%;\\n      right: 0px !important;\\n      left: 0px !important;\\n    }\\n  }\\n  .ReactModal__Content {\\n    margin: auto;\\n    width: 60%;\\n  }\\n\"])));var customStyles={content:{position:\"absolute\",inset:\"40px\",border:\"1px solid rgb(204, 204, 204)\",background:\"rgb(255, 255, 255)\",overflow:\"auto\",borderradius:\"4px\",outline:\"none\",padding:\"20px\"}};function Issue(_ref){var issue=_ref.issue,add_issue=_ref.add_issue,edit_issue=_ref.edit_issue,delete_issue=_ref.delete_issue,filter_issue=_ref.filter_issue;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),modalIsOpen=_React$useState2[0],setIsOpen=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),modalIsOpenEdit=_React$useState4[0],setIsOpenEdit=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),text=_React$useState6[0],setText=_React$useState6[1];var _React$useState7=React.useState(\"\"),_React$useState8=_slicedToArray(_React$useState7,2),description=_React$useState8[0],setDescription=_React$useState8[1];var _React$useState9=React.useState(\"\"),_React$useState10=_slicedToArray(_React$useState9,2),vals=_React$useState10[0],setVal=_React$useState10[1];var _React$useState11=React.useState(\"\"),_React$useState12=_slicedToArray(_React$useState11,2),textedit=_React$useState12[0],setTextEdit=_React$useState12[1];var _React$useState13=React.useState(\"\"),_React$useState14=_slicedToArray(_React$useState13,2),descriptionedit=_React$useState14[0],setDescriptionEdit=_React$useState14[1];var _React$useState15=React.useState(\"\"),_React$useState16=_slicedToArray(_React$useState15,2),statusedit=_React$useState16[0],setStatusEdit=_React$useState16[1];var _React$useState17=React.useState(\"\"),_React$useState18=_slicedToArray(_React$useState17,2),error=_React$useState18[0],setError=_React$useState18[1];var _React$useState19=React.useState([]),_React$useState20=_slicedToArray(_React$useState19,2),check=_React$useState20[0],setCheck=_React$useState20[1];var _React$useState21=React.useState(),_React$useState22=_slicedToArray(_React$useState21,2),filtertxt=_React$useState22[0],setFilter=_React$useState22[1];var List=Object.values(issue);var onSubmit=function onSubmit(){if(!text){setError({message:\"タイトル\"});return;}if(!description){setError({message:\"説明\"});return;}add_issue({title:text,description:description});if(filtertxt){filter_issue(filtertxt);}setError(\"\");setText(\"\");setDescription(\"\");setIsOpen(false);};var _filter2=function filter(_filter){setFilter(_filter);filter_issue(_filter);};var onSubmitEdit=function onSubmitEdit(){if(!textedit){setError({message:\"タイトル\"});return;}if(!descriptionedit){setError({message:\"説明\"});return;}edit_issue({id:vals.id,textedit:textedit,descriptionedit:descriptionedit,statusedit:statusedit});if(filtertxt){filter_issue(filtertxt);}setError(\"\");setIsOpenEdit(false);};var _openEdit=function openEdit(val){setIsOpenEdit(true);setVal(val);setTextEdit(val.title);setDescriptionEdit(val.description);setStatusEdit(val.status);};var closeModal=function closeModal(){setText(\"\");setDescription(\"\");setError(\"\");setIsOpen(false);};var closeModalEdit=function closeModalEdit(){setError(\"\");setIsOpenEdit(false);};var checkedbox=function checkedbox(e){e.stopPropagation();var _e$target=e.target,id=_e$target.id,checked=_e$target.checked;setCheck([].concat(_toConsumableArray(check),[id]));if(!checked){setCheck(check.filter(function(item){return item!==id;}));}};var AllChecked=function AllChecked(){if(check.length===List.length){setCheck([]);}else{var tmp=List.map(function(val){return val.id.toString();});setCheck(tmp);}};var StatusOptions=[{label:\"Open\",value:\"0\"},{label:\"Close\",value:\"1\"}];return/*#__PURE__*/_jsx(Section,{children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Action,{children:/*#__PURE__*/_jsx(Inheaders,{open:function open(){return setIsOpen(true);},delete:function _delete(){return delete_issue(check);},filter:function filter(e){return _filter2(e.target.value);}})}),/*#__PURE__*/_jsx(Lists,{children:/*#__PURE__*/_jsxs(Issuetable,{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:AllChecked})}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u30B9\\u30C6\\u30FC\\u30BF\\u30B9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u4F5C\\u6210\\u8005\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u4F5C\\u6210\\u65E5\\u4ED8\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u66F4\\u65B0\\u65E5\\u4ED8\"})]})}),/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(GlobalStyle,{})}),/*#__PURE__*/_jsx(Modal,{isOpen:modalIsOpen,style:customStyles,ariaHideApp:false,contentLabel:\"Example Modal\",children:/*#__PURE__*/_jsxs(Modallabel,{children:[/*#__PURE__*/_jsx(Labeltext,{children:\"Issue\\u3092\\u8FFD\\u52A0\"}),/*#__PURE__*/_jsxs(Modalcontents,{children:[/*#__PURE__*/_jsx(TextBlock,{valid:\"textarea\",label:\"\\u30BF\\u30A4\\u30C8\\u30EB\",onChange:function onChange(e){return setText(e.target.value);},placeholder:\"\\u30BF\\u30A4\\u30C8\\u30EB\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"}),/*#__PURE__*/_jsx(TextareaBlock,{label:\"\\u8AAC\\u660E\",onChange:function onChange(e){return setDescription(e.target.value);},placeholder:\"\\u8AAC\\u660E\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"})]}),/*#__PURE__*/_jsx(Alert,{error:error}),/*#__PURE__*/_jsxs(Modalbuttons,{children:[/*#__PURE__*/_jsx(Buttons,{success:true,onClick:function onClick(){return onSubmit();},children:\"\\u4F5C\\u6210\"}),/*#__PURE__*/_jsx(Buttons,{onClick:closeModal,children:\"\\u9589\\u3058\\u308B\"})]})]})}),/*#__PURE__*/_jsx(Modal,{isOpen:modalIsOpenEdit,style:customStyles,ariaHideApp:false,contentLabel:\"Example Modal\",children:/*#__PURE__*/_jsxs(Modallabel,{children:[/*#__PURE__*/_jsx(Labeltext,{children:\"Issue\\u3092\\u8FFD\\u52A0\"}),/*#__PURE__*/_jsxs(Modalcontents,{children:[/*#__PURE__*/_jsx(TextBlock,{label:\"\\u30BF\\u30A4\\u30C8\\u30EB\",default:vals.title,onChange:function onChange(e){return setTextEdit(e.target.value);},placeholder:\"\\u30BF\\u30A4\\u30C8\\u30EB\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"}),/*#__PURE__*/_jsx(TextareaBlock,{label:\"\\u8AAC\\u660E\",default:vals.description,onChange:function onChange(e){return setDescriptionEdit(e.target.value);},placeholder:\"\\u8AAC\\u660E\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"}),/*#__PURE__*/_jsx(StatusBlock,{label:\"\\u30B9\\u30C6\\u30FC\\u30BF\\u30B9\",onChange:function onChange(e){return setStatusEdit(e.target.value);},default:vals.status,options:StatusOptions})]}),/*#__PURE__*/_jsx(Alert,{error:error}),/*#__PURE__*/_jsxs(Modalbuttons,{children:[/*#__PURE__*/_jsx(Buttons,{success:true,onClick:function onClick(){return onSubmitEdit();},children:\"\\u66F4\\u65B0\"}),/*#__PURE__*/_jsx(Buttons,{onClick:function onClick(){return closeModalEdit();},children:\"\\u9589\\u3058\\u308B\"})]})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[List.map(function(val,key){return/*#__PURE__*/_jsx(Issuetr,{val:val,openEdit:function openEdit(){return _openEdit(val);},checkedbox:checkedbox,checked:check.includes(val.id.toString())},key);}),!List[0]&&/*#__PURE__*/_jsx(\"td\",{colspan:\"6\",children:\"\\u30C7\\u30FC\\u30BF\\u304C\\u3042\\u308A\\u307E\\u305B\\u3093\"})]})]})})]})});}var mapStateToProps=function mapStateToProps(state){return{issue:state.data};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{add_issue:function add_issue(list){return dispatch({type:\"add_issue\",payload:list});},filter_issue:function filter_issue(filtertxt){return dispatch({type:\"filter_issue\",payload:filtertxt});},edit_issue:function edit_issue(edittxt){return dispatch({type:\"edit_issue\",payload:edittxt});},delete_issue:function delete_issue(list){return dispatch({type:\"delete_issue\",payload:list});}};};export default connect(mapStateToProps,mapDispatchToProps)(Issue);","map":{"version":3,"sources":["/Users/minami/Desktop/minami441-ws-0500-redux-github-viewer/src/components/templates/Issue.js"],"names":["styled","createGlobalStyle","connect","React","Modal","Buttons","StatusBlock","Inheaders","Issuetr","Labeltext","TextBlock","TextareaBlock","Alert","Section","div","Container","Action","Lists","Issuetable","table","Modallabel","Modalcontents","Modalbuttons","GlobalStyle","customStyles","content","position","inset","border","background","overflow","borderradius","outline","padding","Issue","issue","add_issue","edit_issue","delete_issue","filter_issue","useState","modalIsOpen","setIsOpen","modalIsOpenEdit","setIsOpenEdit","text","setText","description","setDescription","vals","setVal","textedit","setTextEdit","descriptionedit","setDescriptionEdit","statusedit","setStatusEdit","error","setError","check","setCheck","filtertxt","setFilter","List","Object","values","onSubmit","message","title","filter","onSubmitEdit","id","openEdit","val","status","closeModal","closeModalEdit","checkedbox","e","stopPropagation","target","checked","item","AllChecked","length","tmp","map","toString","StatusOptions","label","value","key","includes","mapStateToProps","state","data","mapDispatchToProps","dispatch","list","type","payload","edittxt"],"mappings":"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","sourcesContent":["import styled, { createGlobalStyle } from \"styled-components\";\nimport { connect } from \"react-redux\";\nimport React from \"react\";\nimport Modal from \"react-modal\";\nimport Buttons from \"../atoms/Button\";\nimport StatusBlock from \"../molecules/StatusBlock\";\nimport Inheaders from \"../organisms/Inheader\";\nimport Issuetr from \"../organisms/Issuetr\";\nimport Labeltext from \"../atoms/LabelText\";\nimport TextBlock from \"../molecules/InputBlock\";\nimport TextareaBlock from \"../molecules/TextareaBlock\";\nimport Alert from \"../molecules/AlertBlock\";\n\nconst Section = styled.div`\n  padding: 16px;\n`;\n\nconst Container = styled.div`\n  padding: 16px;\n  margin-top: 16px;\n`;\n\nconst Action = styled.div``;\n\nconst Lists = styled.div`\n  overflow: scroll;\n`;\n\nconst Issuetable = styled.table`\n  border: 1px solid rgb(225, 228, 232);\n  border-radius: 6px;\n\n  th:first-child,\n  td:first-child {\n    min-width: auto;\n  }\n\n  th,\n  td {\n    padding: 8px;\n    text-align: left;\n    min-width: 10rem;\n    border-bottom: 1px solid rgb(225, 228, 232);\n  }\n`;\n\nconst Modallabel = styled.div`\n  max-width: 598px;\n  margin: auto;\n  textarea {\n    min-height: 150px;\n  }\n  a {\n    width: auto;\n  }\n`;\n\nconst Modalcontents = styled.div`\n  padding: 32px 0px 16px;\n`;\n\nconst Modalbuttons = styled.div`\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  -webkit-box-pack: end;\n  justify-content: flex-end;\n  padding: 8px;\n`;\n\nconst GlobalStyle = createGlobalStyle`\n  @media (max-width: 576px) {\n    .ReactModal__Content {\n      width: 100%;\n      right: 0px !important;\n      left: 0px !important;\n    }\n  }\n  .ReactModal__Content {\n    margin: auto;\n    width: 60%;\n  }\n`;\n\nconst customStyles = {\n  content: {\n    position: \"absolute\",\n    inset: \"40px\",\n    border: \"1px solid rgb(204, 204, 204)\",\n    background: \"rgb(255, 255, 255)\",\n    overflow: \"auto\",\n    borderradius: \"4px\",\n    outline: \"none\",\n    padding: \"20px\",\n  },\n};\n\nfunction Issue({ issue, add_issue, edit_issue, delete_issue, filter_issue }) {\n  const [modalIsOpen, setIsOpen] = React.useState(false);\n  const [modalIsOpenEdit, setIsOpenEdit] = React.useState(false);\n  const [text, setText] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const [vals, setVal] = React.useState(\"\");\n  const [textedit, setTextEdit] = React.useState(\"\");\n  const [descriptionedit, setDescriptionEdit] = React.useState(\"\");\n  const [statusedit, setStatusEdit] = React.useState(\"\");\n  const [error, setError] = React.useState(\"\");\n  const [check, setCheck] = React.useState([]);\n  const [filtertxt, setFilter] = React.useState();\n\n  const List = Object.values(issue);\n\n  const onSubmit = () => {\n    if (!text) {\n      setError({ message: \"タイトル\" });\n      return;\n    }\n    if (!description) {\n      setError({ message: \"説明\" });\n      return;\n    }\n    add_issue({ title: text, description: description });\n    if (filtertxt) {\n      filter_issue(filtertxt);\n    }\n    setError(\"\");\n    setText(\"\");\n    setDescription(\"\");\n    setIsOpen(false);\n  };\n\n  const filter = (filter) => {\n    setFilter(filter);\n    filter_issue(filter);\n  };\n\n  const onSubmitEdit = () => {\n    if (!textedit) {\n      setError({ message: \"タイトル\" });\n      return;\n    }\n    if (!descriptionedit) {\n      setError({ message: \"説明\" });\n      return;\n    }\n\n    edit_issue({\n      id: vals.id,\n      textedit: textedit,\n      descriptionedit: descriptionedit,\n      statusedit: statusedit,\n    });\n    if (filtertxt) {\n      filter_issue(filtertxt);\n    }\n    setError(\"\");\n    setIsOpenEdit(false);\n  };\n\n  const openEdit = (val) => {\n    setIsOpenEdit(true);\n    setVal(val);\n    setTextEdit(val.title);\n    setDescriptionEdit(val.description);\n    setStatusEdit(val.status);\n  };\n\n  const closeModal = () => {\n    setText(\"\");\n    setDescription(\"\");\n    setError(\"\");\n    setIsOpen(false);\n  };\n\n  const closeModalEdit = () => {\n    setError(\"\");\n    setIsOpenEdit(false);\n  };\n\n  const checkedbox = (e) => {\n    e.stopPropagation();\n    const { id, checked } = e.target;\n    setCheck([...check, id]);\n    if (!checked) {\n      setCheck(check.filter((item) => item !== id));\n    }\n  };\n\n  const AllChecked = () => {\n    if (check.length === List.length) {\n      setCheck([]);\n    } else {\n      const tmp = List.map(function (val) {\n        return val.id.toString();\n      });\n      setCheck(tmp);\n    }\n  };\n\n  const StatusOptions = [\n    {\n      label: \"Open\",\n      value: \"0\",\n    },\n    {\n      label: \"Close\",\n      value: \"1\",\n    },\n  ];\n\n  return (\n    <Section>\n      <Container>\n        <Action>\n          <Inheaders\n            open={() => setIsOpen(true)}\n            delete={() => delete_issue(check)}\n            filter={(e) => filter(e.target.value)}\n          />\n        </Action>\n        <Lists>\n          <Issuetable>\n            <thead>\n              <tr>\n                <th>\n                  <input type=\"checkbox\" onChange={AllChecked} />\n                </th>\n                <th></th>\n                <th>ステータス</th>\n                <th>作成者</th>\n                <th>作成日付</th>\n                <th>更新日付</th>\n              </tr>\n            </thead>\n            <React.Fragment>\n              <GlobalStyle />\n            </React.Fragment>\n\n            <Modal\n              isOpen={modalIsOpen}\n              style={customStyles}\n              ariaHideApp={false}\n              contentLabel=\"Example Modal\"\n            >\n              <Modallabel>\n                <Labeltext>Issueを追加</Labeltext>\n                <Modalcontents>\n                  <TextBlock\n                    valid=\"textarea\"\n                    label=\"タイトル\"\n                    onChange={(e) => setText(e.target.value)}\n                    placeholder=\"タイトルを入力してください\"\n                  />\n                  <TextareaBlock\n                    label=\"説明\"\n                    onChange={(e) => setDescription(e.target.value)}\n                    placeholder=\"説明を入力してください\"\n                  />\n                </Modalcontents>\n                <Alert error={error} />\n                <Modalbuttons>\n                  <Buttons success onClick={() => onSubmit()}>\n                    作成\n                  </Buttons>\n                  <Buttons onClick={closeModal}>閉じる</Buttons>\n                </Modalbuttons>\n              </Modallabel>\n            </Modal>\n\n            <Modal\n              isOpen={modalIsOpenEdit}\n              style={customStyles}\n              ariaHideApp={false}\n              contentLabel=\"Example Modal\"\n            >\n              <Modallabel>\n                <Labeltext>Issueを追加</Labeltext>\n                <Modalcontents>\n                  <TextBlock\n                    label=\"タイトル\"\n                    default={vals.title}\n                    onChange={(e) => setTextEdit(e.target.value)}\n                    placeholder=\"タイトルを入力してください\"\n                  />\n                  <TextareaBlock\n                    label=\"説明\"\n                    default={vals.description}\n                    onChange={(e) => setDescriptionEdit(e.target.value)}\n                    placeholder=\"説明を入力してください\"\n                  />\n                  <StatusBlock\n                    label=\"ステータス\"\n                    onChange={(e) => setStatusEdit(e.target.value)}\n                    default={vals.status}\n                    options={StatusOptions}\n                  />\n                </Modalcontents>\n                <Alert error={error} />\n                <Modalbuttons>\n                  <Buttons success onClick={() => onSubmitEdit()}>\n                    更新\n                  </Buttons>\n                  <Buttons onClick={() => closeModalEdit()}>閉じる</Buttons>\n                </Modalbuttons>\n              </Modallabel>\n            </Modal>\n            <tbody>\n              {List.map((val, key) => (\n                <Issuetr\n                  key={key}\n                  val={val}\n                  openEdit={() => openEdit(val)}\n                  checkedbox={checkedbox}\n                  checked={check.includes(val.id.toString())}\n                />\n              ))}\n              {!List[0] && <td colspan=\"6\">データがありません</td>}\n            </tbody>\n          </Issuetable>\n        </Lists>\n      </Container>\n    </Section>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return { issue: state.data };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    add_issue: (list) => dispatch({ type: \"add_issue\", payload: list }),\n    filter_issue: (filtertxt) =>\n      dispatch({ type: \"filter_issue\", payload: filtertxt }),\n    edit_issue: (edittxt) => dispatch({ type: \"edit_issue\", payload: edittxt }),\n    delete_issue: (list) => dispatch({ type: \"delete_issue\", payload: list }),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Issue);\n"]},"metadata":{},"sourceType":"module"}