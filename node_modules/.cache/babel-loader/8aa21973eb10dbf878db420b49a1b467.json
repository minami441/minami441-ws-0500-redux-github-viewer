{"ast":null,"code":"import { createStore } from 'redux';\nimport user from './user.js';\n\nfunction getdate() {\n  const date = new Date();\n  const YYYY = date.getFullYear();\n  var MM = date.getMonth() + 1;\n  var DD = date.getDate();\n\n  if (MM < 10) {\n    MM = \"0\" + MM;\n  }\n\n  if (DD < 10) {\n    DD = \"0\" + DD;\n  }\n\n  return MM + \"-\" + DD + \"-\" + YYYY;\n}\n\nlet initialData = {\n  1: {\n    id: 1,\n    title: 'A bug in Top Page',\n    status: 0,\n    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',\n    ctuser: '',\n    ctdate: getdate(),\n    update: getdate()\n  },\n  2: {\n    id: 2,\n    title: 'A problem of performance in Top Page',\n    status: 0,\n    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',\n    ctuser: '',\n    ctdate: getdate(),\n    update: getdate()\n  },\n  3: {\n    id: 3,\n    title: 'fix layout',\n    status: 0,\n    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',\n    ctuser: '',\n    ctdate: getdate(),\n    update: getdate()\n  }\n};\nconst initialState = {\n  index: Object.values(initialData).length,\n  data: initialData\n};\n\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  let newState = { ...state\n  };\n\n  switch (action.type) {\n    case 'add_issue':\n      const {\n        title,\n        description\n      } = action.payload || {}; //newState.index++\n\n      initialState.index++; //newState.data[newState.index] = { id: newState.index, title: title,description:description, status: 0, ctuser: user.name, ctdate: getdate(), update: getdate()};\n\n      initialState.data[initialState.index + 1] = {\n        id: initialState.index,\n        title: title,\n        description: description,\n        status: 0,\n        ctuser: user.name,\n        ctdate: getdate(),\n        update: getdate()\n      };\n      return initialState;\n\n    case 'filter_issue':\n      const greptxt = action.payload;\n      newState.data = Object.values(initialData).filter(function (value) {\n        return value.title.includes(greptxt);\n      });\n      console.log(initialState.data);\n      return newState;\n\n    case 'edit_issue':\n      const {\n        id,\n        textedit,\n        descriptionedit,\n        statusedit\n      } = action.payload;\n      initialState.data[id].title = textedit;\n      initialState.data[id].description = descriptionedit;\n      initialState.data[id].status = statusedit;\n      console.log(initialState);\n      return initialState;\n\n    case 'delete_issue':\n      const delete_id = action.payload;\n      newState.data = Object.values(newState.data).filter(function (value) {\n        return delete_id.indexOf(String(value.id)) === -1;\n      });\n      return newState;\n\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(reducer);\nexport default store;","map":{"version":3,"sources":["/Users/minami/Desktop/minami441-ws-0500-redux-github-viewer/src/components/store.js"],"names":["createStore","user","getdate","date","Date","YYYY","getFullYear","MM","getMonth","DD","getDate","initialData","id","title","status","description","ctuser","ctdate","update","initialState","index","Object","values","length","data","reducer","state","action","newState","type","payload","name","greptxt","filter","value","includes","console","log","textedit","descriptionedit","statusedit","delete_id","indexOf","String","store"],"mappings":"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","sourcesContent":["import { createStore } from 'redux';\nimport user from './user.js';\n\nfunction getdate(){\n  const date = new Date();\n  const YYYY = date.getFullYear();\n  var MM = date.getMonth()+1;\n  var DD = date.getDate();\n  \n  if(MM <10){\n    MM = \"0\" + MM;\n  }\n  if(DD < 10){\n    DD = \"0\" + DD;\n  }\n\n  return MM + \"-\" + DD + \"-\" + YYYY;\n}\n\nlet initialData = {\n     1:{\n      id: 1,\n      title: 'A bug in Top Page',\n      status: 0,\n      description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',\n      ctuser: '',\n      ctdate: getdate(),\n      update: getdate(),\n    },\n    2:{\n      id: 2,\n      title: 'A problem of performance in Top Page',\n      status: 0,\n      description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',\n      ctuser: '',\n      ctdate: getdate(),\n      update: getdate(),\n    },\n    3:{\n      id: 3,\n      title: 'fix layout',\n      status: 0,\n      description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',\n      ctuser: '',\n      ctdate: getdate(),\n      update: getdate(),\n  }\n};\n\nconst initialState = {\n  index: Object.values(initialData).length,\n  data: initialData\n}\n\nconst reducer = (state = initialState, action) => {\n  let newState = {...state}\n  switch (action.type) {\n    case 'add_issue':\n      const { title, description } = action.payload || {}\n      //newState.index++\n      initialState.index++\n      //newState.data[newState.index] = { id: newState.index, title: title,description:description, status: 0, ctuser: user.name, ctdate: getdate(), update: getdate()};\n      initialState.data[initialState.index+1] = { id: initialState.index, title: title,description:description, status: 0, ctuser: user.name, ctdate: getdate(), update: getdate()};\n      return initialState;\n    case 'filter_issue':\n      const greptxt = action.payload\n      newState.data = Object.values(initialData).filter( function( value ) {\n        return value.title.includes(greptxt)\n      })\n      console.log(initialState.data)\n      return newState;\n    case 'edit_issue':\n      const { id,textedit, descriptionedit,statusedit } = action.payload\n      initialState.data[id].title = textedit\n      initialState.data[id].description = descriptionedit\n      initialState.data[id].status = statusedit\n      console.log(initialState)\n      return initialState\n    case 'delete_issue':\n      const delete_id = action.payload\n       newState.data = Object.values(newState.data).filter(function(value) {\n          return delete_id.indexOf(String(value.id))===-1\n      });\n      return newState\n    default:\n    return state;\n  }\n};\n\nconst store = createStore(reducer);\n\nexport default store;\n"]},"metadata":{},"sourceType":"module"}